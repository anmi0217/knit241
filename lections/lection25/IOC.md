## üß† **3. Inversion of Control (IoC) –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring**

---

### üìò –ß—Ç–æ —Ç–∞–∫–æ–µ Inversion of Control (IoC)?

> **IoC** ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ç—ã **–Ω–µ —Å–∞–º —Å–æ–∑–¥–∞—ë—à—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**, –∞ –æ—Ç–¥–∞—ë—à—å —ç—Ç–æ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–µ**.

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Spring ‚Äî —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- –¢—ã **–Ω–µ —Å–æ–∑–¥–∞—ë—à—å –æ–±—ä–µ–∫—Ç—ã –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `new`**
- Spring —Å–∞–º **—Å–æ–∑–¥–∞—ë—Ç, —Å–≤—è–∑—ã–≤–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç** –æ–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –æ–ø–∏—Å–∞–ª

–≠—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º—É —Å—Ç–∏–ª—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≥–¥–µ —Ç—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å –≤—Å–µ–º –≤—Ä—É—á–Ω—É—é.

---

### üîß –ü—Ä–∏–º–µ—Ä –±–µ–∑ IoC (–≤—Ä—É—á–Ω—É—é):

```java
UserRepository repo = new UserRepository();
UserService service = new UserService(repo);
```

–¢—ã —Å–∞–º —Å–æ–∑–¥–∞—ë—à—å –∏ —Å–≤—è–∑—ã–≤–∞–µ—à—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

---

### üå± –ü—Ä–∏–º–µ—Ä —Å IoC (Spring):

```java
@Component
public class UserRepository {}

@Service
public class UserService {
    private final UserRepository repo;

    @Autowired
    public UserService(UserRepository repo) {
        this.repo = repo;
    }
}
```

–¢–µ–ø–µ—Ä—å —Ç—ã **—Ç–æ–ª—å–∫–æ –æ–ø–∏—Å–∞–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**, –∞ Spring –∏—Ö **–≤–Ω–µ–¥—Ä–∏—Ç —Å–∞–º**, –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞—Å—Ç `UserService`.

---

## üß∞ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Spring IoC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring'–∞ ‚Äî —ç—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—ä–µ–∫—Ç–æ–≤ (–±–∏–Ω–æ–≤), –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω:
1. –°–æ–∑–¥–∞—ë—Ç
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç
3. –°–≤—è–∑—ã–≤–∞–µ—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π (–≤–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
4. –£–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º

–°–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```java
ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
```

---

### üí° –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ?

1. Spring —á–∏—Ç–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (`@Configuration`, `@ComponentScan`, XML)
2. –ù–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å—ã —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ (`@Component`, `@Bean`, –∏ —Ç.–¥.)
3. –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã (–±–∏–Ω—ã)
4. –°–≤—è–∑—ã–≤–∞–µ—Ç –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. –ì–æ—Ç–æ–≤–∏—Ç –∏—Ö –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

### üß± –í–∏–¥—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä         | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|-------------------|-----------------------------------------------|
| `BeanFactory`     | –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è      |
| `ApplicationContext` | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è   |
| `WebApplicationContext` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π          |

---

### üîÑ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è IoC:

```java
@Configuration
@ComponentScan("com.example")
public class AppConfig {}

public class Main {
    public static void main(String[] args) {
        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        UserService service = context.getBean(UserService.class);
        service.register("Alice");
    }
}
```

---

### ‚úÖ –í—ã–≤–æ–¥:

- IoC ‚Äî —ç—Ç–æ **–ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è** –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫ Spring-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
- –¢—ã –±–æ–ª—å—à–µ **–Ω–µ —Å–æ–∑–¥–∞—ë—à—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é**
- –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ **–º–æ–¥—É–ª—å–Ω—ã–º, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º –∏ –≥–∏–±–∫–∏–º**

---
