## üîÑ **5. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–∞ –≤ Spring**

Spring –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç ‚Äî –æ–Ω **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –≤–µ—Å—å –µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—É—Ç—å**: –æ—Ç —Ä–æ–∂–¥–µ–Ω–∏—è –¥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Spring –∏ –¥–æ–±–∞–≤–ª—è—Ç—å ¬´—Ö—É–∫–∏¬ª –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –æ—á–∏—Å—Ç–∫–∏.

---

### üìò –≠—Ç–∞–ø—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –±–∏–Ω–∞

1. üì• **–°–æ–∑–¥–∞–Ω–∏–µ** ‚Äî –±–∏–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏–ª–∏ —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
2. üîó **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (`@Autowired`, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã)
3. üß™ **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** (`@PostConstruct`, `InitializingBean`)
4. üß© **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –±–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
5. üóëÔ∏è **–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ** (`@PreDestroy`, `DisposableBean`) ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

---

### üõ†Ô∏è –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:

```java
@Component
public class Printer {

    public Printer() {
        System.out.println("1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä");
    }

    @Autowired
    public void setDependency(SomeDependency dep) {
        System.out.println("2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏");
    }

    @PostConstruct
    public void init() {
        System.out.println("3. @PostConstruct ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è");
    }

    @PreDestroy
    public void cleanup() {
        System.out.println("5. @PreDestroy ‚Äî –æ—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º");
    }
}
```

üìå –í–∞–∂–Ω–æ: `@PreDestroy` —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—ã **–∑–∞–∫—Ä—ã–≤–∞–µ—à—å –∫–æ–Ω—Ç–µ–∫—Å—Ç** –≤—Ä—É—á–Ω—É—é:

```java
((AnnotationConfigApplicationContext) context).close();
```

---

### üß† –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º

Spring —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**:

| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å            | –ú–µ—Ç–æ–¥                     | –ê–Ω–∞–ª–æ–≥                  |
|----------------------|---------------------------|--------------------------|
| `InitializingBean`   | `afterPropertiesSet()`    | `@PostConstruct`        |
| `DisposableBean`     | `destroy()`               | `@PreDestroy`           |

---

### üîÅ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–∞ ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ

```
        +----------------+
        |  new Object()  |
        +----------------+
                ‚Üì
    –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (@Autowired)
                ‚Üì
    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (@PostConstruct / afterPropertiesSet)
                ‚Üì
        –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
                ‚Üì
    –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ (@PreDestroy / destroy)
```

---

### üì¶ –ü—Ä–∏–º–µ—Ä —Å `@Bean`:

```java
@Bean(initMethod = "start", destroyMethod = "stop")
public Printer printer() {
    return new Printer();
}
```

–ú–µ—Ç–æ–¥—ã `start()` –∏ `stop()` –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –≤ –Ω–∞—á–∞–ª–µ –∏ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## ‚úÖ –í—ã–≤–æ–¥:

- –£ –±–∏–Ω–∞ –µ—Å—Ç—å **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**
- –¢—ã –º–æ–∂–µ—à—å ¬´–≤–º–µ—à–∞—Ç—å—Å—è¬ª –≤ —ç—Ç–∞–ø—ã —á–µ—Ä–µ–∑ `@PostConstruct`, `@PreDestroy`, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–ª–∏ –º–µ—Ç–æ–¥—ã `init/destroy`
- –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –ë–î, –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–æ–∫–µ—Ç–æ–≤, –∑–∞–≥—Ä—É–∑–∫–µ –∫—ç—à–∞ –∏ —Ç.–¥.

