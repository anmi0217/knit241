
#### **1. Что такое DDL и DML**

- **DDL (Data Definition Language)**: язык определения данных, используемый для создания и управления структурами базы данных (таблицы, индексы и т.д.).
- **DML (Data Manipulation Language)**: язык манипулирования данными, который используется для добавления, обновления, удаления и выборки данных.

---

#### **2. DDL (Data Definition Language)**

##### **Создание таблицы**

- Пример создания таблицы для хранения данных о лекарствах:
    
    ```sql
    CREATE TABLE medicines (
        id SERIAL PRIMARY KEY,             -- Уникальный идентификатор (автоинкремент)
        name VARCHAR(100) NOT NULL,        -- Название препарата, обязательное поле
        price DECIMAL(10, 2) NOT NULL,     -- Цена с точностью до 2 знаков после запятой
        expiration_date DATE NOT NULL      -- Дата окончания срока годности
    );
    ```
    
- Объяснение:
    - **`SERIAL`**: генерирует уникальные значения автоматически (аналог автоинкремента).
    - **`PRIMARY KEY`**: задаёт уникальный идентификатор для каждой строки.
    - **`VARCHAR(100)`**: строковый тип данных с ограничением длины до 100 символов.
    - **`DECIMAL(10, 2)`**: числовой тип с фиксированной точностью (до 10 цифр, 2 из них после запятой).
    - **`DATE`**: тип данных для хранения дат.

##### **Изменение таблицы**

- Если нужно добавить новое поле, используется команда `ALTER`:
    
    ```sql
    ALTER TABLE medicines ADD COLUMN manufacturer VARCHAR(50);
    ```
    
    - Добавляет колонку `manufacturer` для хранения названия производителя.

##### **Удаление таблицы**

- Если таблица больше не нужна:
    
    ```sql
    DROP TABLE medicines;
    ```
    

---

#### **3. DML (Data Manipulation Language)**

##### **Добавление данных**

- Пример добавления записи в таблицу:
    
    ```sql
    INSERT INTO medicines (name, price, expiration_date)
    VALUES ('Aspirin', 5.99, '2025-12-31');
    ```
    
- Объяснение:
    - `INSERT INTO`: добавляет новую строку в таблицу.
    - Поля `name`, `price`, `expiration_date` соответствуют столбцам таблицы.
    - Значения передаются в скобках через запятую.

##### **Обновление данных**

- Пример обновления данных:
    
    ```sql
    UPDATE medicines 
    SET price = 6.99 
    WHERE name = 'Aspirin';
    ```
    
- Объяснение:
    - `UPDATE`: изменяет существующие данные.
    - `SET`: задаёт новое значение для поля.
    - `WHERE`: уточняет, какие строки нужно обновить (в данном случае — препарат с именем `Aspirin`).

##### **Удаление данных**

- Пример удаления записи:
    
    ```sql
    DELETE FROM medicines 
    WHERE id = 1;
    ```
    
- Объяснение:
    - `DELETE`: удаляет строки из таблицы.
    - `WHERE`: уточняет, какие строки удалить (в данном случае — строку с `id = 1`).

##### **Выборка данных**

- Пример получения всех данных из таблицы:
    
    ```sql
    SELECT * FROM medicines;
    ```
    
- Пример с фильтрацией:
    
    ```sql
    SELECT name, price 
    FROM medicines 
    WHERE expiration_date > '2024-12-31';
    ```
    
- Объяснение:
    - `SELECT`: извлекает данные из таблицы.
    - `*`: выбирает все столбцы.
    - Фильтр `WHERE` позволяет ограничить выборку, например, выбрать лекарства, срок годности которых больше определённой даты.

---

#### **4. Демонстрация полного сценария**

```sql
-- Создание таблицы
CREATE TABLE medicines (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    expiration_date DATE NOT NULL
);

-- Добавление данных
INSERT INTO medicines (name, price, expiration_date)
VALUES 
('Aspirin', 5.99, '2025-12-31'),
('Paracetamol', 3.49, '2024-06-30'),
('Ibuprofen', 7.99, '2026-01-15');

-- Обновление данных
UPDATE medicines 
SET price = 4.99 
WHERE name = 'Paracetamol';

-- Удаление данных
DELETE FROM medicines 
WHERE expiration_date < '2024-01-01';

-- Выборка данных
SELECT * FROM medicines;
```

---
**